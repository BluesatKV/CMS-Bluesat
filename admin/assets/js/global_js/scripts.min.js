$(function(){Pace.on("done",function(){$("#pace").animate({opacity:0},800,function(){$("#pace").removeClass("active").addClass("inactive").hide()})})});$.AdminEnvo={};$.AdminEnvo.options={enableBSToppltipIcon:true,BSTooltipSelectorIcon:'[data-toggle="tooltipEnvo"]',BootboxLang:envoWeb.envo_lang};$(function(){var a=$.AdminEnvo.options;if(a.enableBSToppltipIcon){$("body").tooltip({selector:a.BSTooltipSelectorIcon,trigger:"hover",container:"body",animation:false})}$.AdminEnvo.DateTimepicker={tooltips:function(){if(envoWeb.envo_lang="cs"){var b={today:"Dnešní Datum",clear:"Smazat Datum",close:"Zavřít Picker",selectMonth:"Vybrat Měsíc",prevMonth:"Předchozí Měsíc",nextMonth:"Následující Měsíc",selectYear:"Vybrat Rok",prevYear:"Předchozí Rok",nextYear:"Následující Rok",selectDecade:"Vybrat Dekádu",prevDecade:"Předchozí Dekáda",nextDecade:"Následující Dekáda",prevCentury:"Předchozí Století",nextCentury:"Následující Století",pickHour:"Vybrat Hodinu",incrementHour:"Přidat Hodinu",decrementHour:"Ubrat Hodinu",pickMinute:"Vybrat Minuty",incrementMinute:"Přidat Minuty",decrementMinute:"Ubrat Minuty",pickSecond:"Vybrat Vteřiny",incrementSecond:"Přidat Vteřiny",decrementSecond:"Ubrat Vteřiny",togglePeriod:"Přepnout Dobu",selectTime:"Vybrat Čas"}}else{var b={}}return b},icons:function(){var b={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-check-circle-o",clear:"fa fa-trash",close:"fa fa-times"};return b}};$("[data-confirm]").click(function(c){var b=$(this).attr("href");c.preventDefault();bootbox.setLocale(a.BootboxLang);bootbox.confirm({title:"Potvrzení o odstranění!",message:$(this).attr("data-confirm"),className:"bootbox-confirm-del",animate:true,buttons:{confirm:{className:"btn-success"},cancel:{className:"btn-danger"}},callback:function(d){if(d==true){window.location=b}}})});$("[data-confirm-control]").click(function(c){var b=$(this).attr("href");c.preventDefault();bootbox.setLocale(a.BootboxLang);bootbox.confirm({title:"Potvrzení o odstranění!",message:$(this).attr("data-confirm-control")+"<p class='m-t-15'>Z důvodu ochrany opište následující text</p><p>OPRAVDU CHCI ODSTRANIT ZÁZNAM Z DATABÁZE</p><input type='text' id='text-control' name='text-control' class='m-t-15' style='width:100%;padding:5px;' >",className:"bootbox-confirm-del",animate:true,buttons:{confirm:{className:"btn-success"},cancel:{className:"btn-danger"}},callback:function(d){if(d==true){var f="OPRAVDU CHCI ODSTRANIT ZÁZNAM Z DATABÁZE";var e=$("#text-control").val();if(f==e){console.log("Bootbox - confirm: Control code is OK");window.location=b}else{console.log("Bootbox - confirm: Control code is not ready");$("#text-control").css("border","2px solid #B94A48").attr("placeholder","Chybný kontrolní text");return false}}}})});$("#button_delete").on("click",function(c){var b=$(this);c.preventDefault();bootbox.setLocale(a.BootboxLang);bootbox.confirm({title:"Potvrzení o odstranění!",message:$(this).attr("data-confirm-del"),className:"bootbox-confirm-del",animate:true,buttons:{confirm:{className:"btn-success"},cancel:{className:"btn-danger"}},callback:function(d){if(d){b.off("click");b.click()}}})});$("#button_truncate").on("click",function(c){var b=$(this).attr("href");c.preventDefault();bootbox.setLocale(a.BootboxLang);bootbox.confirm({title:"Potvrzení o odstranění!",message:$(this).attr("data-confirm-trunc"),className:"bootbox-confirm-trunc",animate:true,buttons:{confirm:{className:"btn-success"},cancel:{className:"btn-warning"}},callback:function(d){if(d==true){window.location=b}}})});$("[data-confirm-logout]").click(function(c){var b=$(this).attr("href");c.preventDefault();bootbox.setLocale(a.BootboxLang);bootbox.confirm({title:"Odhlášení!",message:$(this).attr("data-confirm-logout"),className:"bootbox-confirm-logout",animate:true,buttons:{confirm:{className:"btn-info"},cancel:{className:"btn-default"}},callback:function(d){if(d==true){window.location=b}}})})});$(function(){$('button[name = "btnSave"]').on("click",function(){var a=$(this);a.button("loading");setTimeout(function(){a.button("reset")},1000)});$('button[name = "btnTestMail"]').on("click",function(){var a=$(this);a.button("loading");setTimeout(function(){a.button("reset")},1000)});$("a[data-loading-text]").click(function(){$(this).button("loading");setTimeout(function(){$this.button("reset")},1000)})});(function(a){a('[data-pages="search"]').search({searchField:"#overlay-search",closeButton:".overlay-close",suggestions:"#overlay-suggestions",brand:".brand",onSearchSubmit:function(b){},onKeyEnter:function(b){console.log("Live search for: "+b);var e=a("#overlay-search");var c=a(".search-results");var d=c.find(".results-container");d.html("");a.ajax({url:"ajax/overlay-search.php",type:"POST",datatype:"html",data:{search:b},success:function(f){d.html(f)}});return false}})})(window.jQuery);$(function(){var a=$("#ENVOModal");$(".ifManager").on("click",function(b){b.preventDefault();$frameSrc=$(this).attr("href");a.on("shown.bs.modal",function(c){$(this).find(".modal-dialog").addClass("modal-w-95p");$(this).find(".body-content").html('<iframe src="'+$frameSrc+'" width="100%" frameborder="0" style="flex-grow: 1;">')}).on("hidden.bs.modal",function(c){$(this).find(".body-content").html("")}).modal("show")});$(".contentHelp").on("click",function(b){b.preventDefault();$frameSrc=$(this).attr("href");a.on("shown.bs.modal",function(c){$(this).find(".modal-dialog").addClass("modal-w-90p");$(this).find(".body-content").html('<iframe src="'+$frameSrc+'" width="100%" frameborder="0" style="flex-grow: 1;">')}).on("hidden.bs.modal",function(c){$(this).find(".body-content").html("")}).modal("show")})});function insert_javascript(){return'<script type="text/javascript">\n$(document).ready(function() {\n\n$("#myID").myfunction();\n\n});\n<\/script>\n'}function insert_cssblock(){return'<style type="text/css">\n.className {\n\n float:left; width:400px; height:200px; \n\n}\n</style>\n'}function insert_code_member_guest(){return"{{if members}}\n\n For Members \n\n{{endif}}\n\n\n{{if notmembers}}\n\n For Guest \n\n{{endif}}\n\n"}function insert_code_member(){return"{{if members}}\n\n For Members \n\n{{endif}}\n\n"}function insert_code_guest(){return"{{if notmembers}}\n\n For Guest \n\n{{endif}}\n\n"}function restoreContent(a,b,c){$.ajax({type:"POST",url:"ajax/loadcontent.php",data:"backupid="+b+"&contentid="+c+"&eid=1&fid="+a,dataType:"json",beforeSend:function(d){$("#spinner").css("visibility","visible")},success:function(d){setTimeout(function(){$("#spinner").css("visibility","hidden")},2000);if(parseInt(d.status)!=1){return false}else{$("#restorcontent").val(0);$("#envoEditor").text(d.rcontent);if(globalSettings.advEditor>0){htmlACE.session.setValue(d.rcontent)}else{tinyMCE.get("envoEditor").setContent(d.rcontent)}}}})}$(function(){$(".table-expandable").each(function(){var a=$(this);a.children("thead").children("tr").append("<th></th>");a.children("tbody").children("tr").filter(":odd").hide();a.children("tbody").children("tr").filter(":even").click(function(c){var b=$(this);if(!$(c.target).closest(".call-button").length){b.toggleClass("active");b.next("tr").toggle();b.find(".table-expandable-arrow").toggleClass("up")}});a.children("tbody").children("tr").filter(":even").each(function(){var b=$(this);b.append('<td><div class="table-expandable-arrow"></div></td>')})})});$(function(){if($('ul[id^="cmsTab"]').length){$('a[data-toggle="tab"]').on("shown.bs.tab",function(f){var d=$(this).closest("ul").attr("id");var d=d.replace("cmsTab","");localStorage.setItem("lastTab"+d,$(this).attr("href"))});var c=$('ul[id^="cmsTab"]').attr("id");var b=c.replace("cmsTab","");var a=localStorage.getItem("lastTab"+b);if(a){$("#"+c+' a[href="'+a+'"]').tab("show")}}});$(function(){$("#selecttags1").on("change",function(a){$("input[name='envo_tags']").tagsinput("add",$(this).val())});$("#selecttags2").on("change",function(a){$("input[name='envo_tags']").tagsinput("add",$(this).val())});$("input[name='envo_tags'].tags").tagsinput("items");$("input[name='envo_keywords']#metakey").tagsinput({confirmKeys:[13,44]});$("input[name='envo_lcontent_meta_key']#envo_editor_light_meta_key").tagsinput({confirmKeys:[13,44]});$("input[name='envo_extension']#fileextension").tagsinput({tagClass:"label label-default ext",confirmKeys:[13,44,32]})});(function(c){var b={character:{DIGIT:1,LOWERCASE:2,UPPERCASE:4,PUNCTUATION:8},strength:{LOW:0,MEDIUM:1,HIGH:2,EXTREME:3},dictionary:[],patterns:["0123456789","abcdefghijklmnopqrstuvwxyz","qwertyuiopasdfghjklzxcvbnm","azertyuiopqsdfghjklmwxcvbn","!#$*+-.:?@^"],threshold:{medium:16,high:22,extreme:36}};b.requirements={characters:b.character.DIGIT|b.character.LOWERCASE|b.character.UPPERCASE,length:{min:6,max:Infinity}};if(Object.seal){Object.seal(b.character);Object.seal(b.strength)}if(Object.freeze){Object.freeze(b.character);Object.freeze(b.strength)}b.analize=function(d){var f=Math.floor(d.length*2);var e=d.length;f+=c.passy.analizePatterns(d);f+=c.passy.analizeDictionary(d);while(e--){f+=c.passy.analizeCharacter(d.charAt(e))}return c.passy.analizeScore(f)};b.analizeCharacter=function(e){var d=e.charCodeAt(0);if(d>=97&&d<=122){return 1}if(d>=48&&d<=57){return 2}if(d>=65&&d<=90){return 3}if(d<=126){return 4}return 5};b.analizePattern=function(e,h){var g=-1;var j=-2;for(var f=0;f<e.length;f++){var d=h.indexOf(e.charAt(f));if(g===d-1){g=d;j++}}return Math.max(0,j)};b.analizePatterns=function(d){var f=d.toLowerCase();var h=0;for(var e in c.passy.patterns){var g=c.passy.patterns[e].toLowerCase();h+=c.passy.analizePattern(f,g)}return h*-5};b.analizeDictionary=function(d){var f=d.toLowerCase();var h=0;for(var e in c.passy.dictionary){var g=c.passy.dictionary[e].toLowerCase();if(d.indexOf(g)>=0){h++}}return h*-5};b.analizeScore=function(d){if(d>=c.passy.threshold.extreme){return c.passy.strength.EXTREME}if(d>=c.passy.threshold.high){return c.passy.strength.HIGH}if(d>=c.passy.threshold.medium){return c.passy.strength.MEDIUM}return c.passy.strength.LOW};b.generate=function(d){var h=["0123456789","abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ","!#$&()*+<=>@[]^"];var f=[];var g,e;d=Math.max(d,c.passy.requirements.length.min);d=Math.min(d,c.passy.requirements.length.max);while(d--){g=d%h.length;e=Math.floor(Math.random()*h[g].length);f.push(h[g].charAt(e))}f.sort(function(){return Math.random()*2-1});return f.join("")};b.contains=function(e,d){if(d===c.passy.character.DIGIT){return/\d/.test(e)}else{if(d===c.passy.character.LOWERCASE){return/[a-z]/.test(e)}else{if(d===c.passy.character.UPPERCASE){return/[A-Z]/.test(e)}else{if(d===c.passy.character.PUNCTUATION){return/[!"#$%&'()*+,\-./:;<=>?@[\\]\^_`{\|}~]/.test(e)}}}}};b.valid=function(f){var e=true;if(!c.passy.requirements){return true}if(f.length<c.passy.requirements.length.min){return false}if(f.length>c.passy.requirements.length.max){return false}for(var d in c.passy.character){if(c.passy.requirements.characters&c.passy.character[d]){e=c.passy.contains(f,c.passy.character[d])&&e}}return e};var a={init:function(e){var d=c(this);d.on("change keyup",function(){if(typeof e!=="function"){return}var f=d.val();e.call(d,c.passy.analize(f),a.valid.call(d))})},generate:function(d){this.val(c.passy.generate(d));this.change()},valid:function(){return c.passy.valid(this.val())}};c.fn.passy=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="function"||!d){return a.init.apply(this,arguments)}}return this};c.extend({passy:b})})(jQuery);$(function(){var b=$(".label-indicator-absolute input");var c=$(".label-indicator-absolute > span");$.passy.requirements.length.min=4;var a=[{color:"#D55757",text:"Weak",textColor:"#fff"},{color:"#EB7F5E",text:"Normal",textColor:"#fff"},{color:"#3BA4CE",text:"Good",textColor:"#fff"},{color:"#40B381",text:"Strong",textColor:"#fff"}];b.passy(function(d){c.text(a[d].text);c.css("background-color",a[d].color).css("color",a[d].textColor)});$(".generate-label-absolute").click(function(){b.passy("generate",10)})});jQuery.fn.autoGrow=function(){return this.each(function(){var c=function(e){jQuery(e).after('<div class="autogrow-textarea-mirror"></div>');return jQuery(e).next(".autogrow-textarea-mirror")[0]};var a=function(e){d.innerHTML=String(e.value).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")+".<br/>.";if(jQuery(e).height()!=jQuery(d).height()){jQuery(e).height(jQuery(d).height())}};var b=function(){a(this)};var d=c(this);d.style.display="none";d.style.wordWrap="break-word";d.style.padding=jQuery(this).css("padding");d.style.width=jQuery(this).css("width");d.style.fontFamily=jQuery(this).css("font-family");d.style.fontSize=jQuery(this).css("font-size");d.style.lineHeight=jQuery(this).css("line-height");this.style.overflow="hidden";this.style.minHeight=this.rows+"em";this.onkeyup=b;a(this)})};
/*! ========================================================================
 * Live Filter: livefilter.js v2.0.0
 * ========================================================================
 * Copyright 2015, Salvatore Di Salvo (disalvo-infographiste[dot].be)
 * ======================================================================== */
(function(d){var b=function(f,e){this.$element=d(f);this.options=d.extend({},this.defaults(),e);this.structure=d.extend({},this.parts());this.keywords=null;this.init()};b.VERSION="2.1.0";b.DEFAULTS={clearbtn:false,textinfo:true,autocomplete:false,hint:"placeholder",arrowKeys:false,matches:false,caseSensitive:false,minLength:1,wrapInput:true};b.prototype.parts=function(){return{$input:d(".live-search",this.$element),$filter:d(".list-to-filter",this.$element),$clear:d(".filter-clear",this.$element),$no_results:d(".no-search-results",this.$element),$info:d(".filter-info",this.$element),$val:d(".filter-val",this.$element),$items:d(".filter-item",this.$element),$matches:d(".matches",this.$element)}};b.prototype.defaults=function(){return{clearbtn:this.$element.attr("data-clear")||b.DEFAULTS.clearbtn,textinfo:this.$element.attr("data-textinfo")||b.DEFAULTS.textinfo,autocomplete:this.$element.attr("data-autocomplete")||b.DEFAULTS.autocomplete,hint:this.$element.attr("data-hint")||b.DEFAULTS.hint,arrowKeys:this.$element.attr("data-keys")||b.DEFAULTS.arrowKeys,matches:this.$element.attr("data-matches")||b.DEFAULTS.arrowKeys,caseSensitive:b.DEFAULTS.caseSensitive,minLength:b.DEFAULTS.minLength,wrapInput:b.DEFAULTS.wrapInput}};b.prototype.getKeywords=function(){var e=[];this.structure.$items.each(function(f){if(!d(this).hasClass("disabled")){e=e.concat(d(this).attr("data-filter").split("|"))}});return e};b.prototype.init=function(){var e=this;if(e.options.autocomplete){e.initAC()}if(e.options.clearbtn){e.structure.$clear.click(function(f){f.preventDefault();e.clear()})}e.structure.$input.on("keyup",function(){var g=d(this).val().toLowerCase();e.structure.$val.text(g);if(e.options.clearbtn){e.structure.$clear.toggleClass("hide",!g).prev("span").toggle(!g)}var f=e.searchAndFilter(g);if(f==0&&g.length!=0){e.structure.$no_results.show()}else{e.structure.$no_results.hide()}if(e.options.textinfo){if((g.length==0||g=="")||f==0){e.structure.$info.hide()}else{e.structure.$info.show()}}});e.structure.$input.val("").trigger("input").trigger("keyup");if(e.structure.$clear&&e.options.clearbtn){e.structure.$clear.addClass("hide").prev("span").show()}if(e.structure.$info){e.structure.$info.hide()}if(e.structure.$no_results){e.structure.$no_results.hide()}};b.prototype.initAC=function(){var e=this;e.keywords=e.getKeywords();if(e.keywords!=undefined&&e.keywords!=null){e.structure.$input.tabcomplete(e.keywords,{hint:e.options.hint,arrowKeys:e.options.arrowKeys,caseSensitive:e.options.caseSensitive,minLength:e.options.minLength,wrapInput:e.options.wrapInput});if(e.options.matches){e.structure.$input.on("match",function(g,f){e.structure.$matches.css("opacity",(f==0?0:1)).find("span").html(f)}).on("blur",function(){e.structure.$matches.css("opacity",0)})}}else{console.log("no keywords defined!")}};b.prototype.searchAndFilter=function(g){var f=this,e=0;if(!g){this.structure.$items.each(function(){if(!d(this).hasClass("disabled")){d(this).show()}})}else{this.structure.$items.each(function(){if(!d(this).hasClass("disabled")){var i=d(this).attr("data-filter").split("|");var h=f.inFilter(g,i);if(h){e++}d(this).toggle(!!h)}})}return e};b.prototype.clear=function(){this.structure.$input.val("").trigger("input").trigger("keyup");this.structure.$clear.addClass("hide")};b.prototype.inFilter=function(h,g){for(var f=0;f<g.length;f++){var e=g[f].toLowerCase();if(e.match(h)){return true}}return false};function c(){var e=arguments;return this.each(function(){var h=d(this),g=h.data("liveFilter"),i=e[0];if(typeof(i)=="object"||!i){var f=typeof i=="object"&&i;h.data("liveFilter",(g=new b(this,f)))}else{if(g[i]){i=g[i];e=Array.prototype.slice.call(e,1);if(e!=null||e!=undefined||e!=[]){i.apply(g,e)}}else{d.error("Method "+i+" does not exist on jQuery.Filter");return this}}})}var a=d.fn.liveFilter;d.fn.liveFilter=c;d.fn.liveFilter.Constructor=b;d.fn.toggle.noConflict=function(){d.fn.liveFilter=a;return this};d(function(){d(".livefilter").liveFilter()})}(jQuery));$(".dropdown-menu.livefilter .search-box").on("click.bs.dropdown",function(a){a.stopPropagation();a.preventDefault()});$(".envo_widget_move").sortable({placeholder:"ui-state-highlight",axis:"y",revert:250,tolerance:"pointer",containment:"parent",forcePlaceholderSize:true,start:function(b,a){a.placeholder.height(a.item.height());a.item.css("opacity","0.6");a.placeholder.css("background-color","#CFF5F2")},update:function(){var a=1;$(".sorder").each(function(){$(this).val(a);a+=1});$(".envowidget").animate({backgroundColor:"#C9FFC9"},100).animate({backgroundColor:"#F9F9F9"},1000)},stop:function(b,a){a.item.css({top:"0",left:"0"});a.item.css("opacity","1")}});$(".envo_content_move").sortable({placeholder:"ui-state-highlight",axis:"y",revert:250,tolerance:"pointer",containment:"parent",forcePlaceholderSize:true,start:function(b,a){a.placeholder.height(a.item.height());a.item.css("opacity","0.6");a.placeholder.css("background-color","#CFF5F2")},update:function(){var a=1;$(".corder").each(function(){$(this).val(a);a+=1});$(".envocontent").animate({backgroundColor:"#C9FFC9"},100).animate({backgroundColor:"#F9F9F9"},1000)},stop:function(b,a){a.item.css({top:"0",left:"0"});a.item.css("opacity","1")}});$("#cform_sort").sortable({placeholder:"ui-state-highlight",axis:"y",revert:250,tolerance:"pointer",containment:"parent",forcePlaceholderSize:true,start:function(b,a){a.placeholder.height(a.item.height());a.item.css("opacity","0.6");a.placeholder.css("background-color","#CFF5F2")},update:function(b,c){c.item.removeClass("ui-state-highlight").addClass("envocform");c.item.find(".envoread").removeAttr("readonly").val("");c.item.find(".cforder-orig").removeClass("cforder-orig").addClass("cforder");$(".envocform").animate({backgroundColor:"#C9FFC9"},100).animate({backgroundColor:"#F9F9F9"},1000);var a=1;$(".cforder").each(function(){$(this).val(a);a+=1})},stop:function(b,a){a.item.css({top:"0",left:"0"});a.item.css("opacity","1")}});$("#cform_drag").draggable({connectToSortable:"#cform_sort",helper:"clone",revert:"invalid",axis:"y",start:function(a,b){$(b.helper).addClass("ui-helper")}});$.fn.timedDisable=function(a){if(a==null){a=5}var b=Math.ceil(a);return $(this).each(function(){$(this).attr("disabled","disabled");var e=$(this);var d=this.innerHTML;e.text(d+" ("+b+")");var c=setInterval(function(){b=b-1;e.text(d+" ("+b+")");if(b===0){e.removeAttr("disabled").text(d);clearInterval(c)}},1000)})};$(".cms-help").popover({container:"body",placement:function(b,c){var a=$(c).position();if(a.left<280){return"right"}if(a.top<280){return"bottom"}else{return"left"}},html:true,trigger:"focus",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h5 class="popover-header bg-info-lighter m-0"></h5><div class="popover-body"></div></div>'});Pace.on("done",function(){if($(".counter").length){$(".counter").each(function(a,c){var b=$(this);if($(window).width()>1024){b.html(0);increment(b)}})}});function increment(a){$({increment:0}).animate({increment:a.data("counterend")},{duration:(a.data("counterduration"))?a.data("counterduration"):3000,easing:"swing",step:function(){if(a.data("countertype")==="float"){a.html(Math.abs(this.increment).toFixed(1))}else{a.html(Math.ceil(this.increment))}}})};