$wrapLimitRange={min:aceEditor.acewraplimit,max:aceEditor.acewraplimit};if($("#htmleditor").length){var htmlACE=ace.edit("htmleditor");htmlACE.setTheme("ace/theme/"+aceEditor.acetheme);htmlACE.session.setUseWrapMode(aceEditor.aceactivewrap);htmlACE.session.setWrapLimitRange($wrapLimitRange.min,$wrapLimitRange.max);htmlACE.setOptions({mode:"ace/mode/html",tabSize:aceEditor.acetabSize,useSoftTabs:true,highlightActiveLine:aceEditor.aceactiveline,showInvisibles:aceEditor.aceinvisible,showGutter:aceEditor.acegutter});htmlACE.$blockScrolling=Infinity;texthtml=$("#envo_editor").val();htmlACE.session.setValue(texthtml)}if($("#csseditor").length){var cssACE=ace.edit("csseditor");cssACE.setTheme("ace/theme/chrome");cssACE.session.setMode("ace/mode/css");textcss=$("#envo_css").val();cssACE.session.setValue(textcss);cssACE.$blockScrolling=Infinity}if($("#javaeditor").length){var jsACE=ace.edit("javaeditor");jsACE.setTheme("ace/theme/chrome");jsACE.session.setMode("ace/mode/javascript");textjs=$("#envo_javascript").val();jsACE.session.setValue(textjs);jsACE.$blockScrolling=Infinity}function responsive_filemanager_callback(a){if(a=="csseditor"||a=="javaeditor"||a=="htmleditor"){var b=jQuery("#"+a).val();if(a=="csseditor"){cssACE.insert('<link rel="stylesheet" href="'+b+'" type="text/css" />')}else{if(a=="javaeditor"){jsACE.insert('<script src="'+b+'"><\/script>')}else{htmlACE.insert(b)}}}}$(function(){$("#addCssBlock").click(function(){cssACE.insert(insert_cssblock())});$("#addJavascriptBlock").click(function(){jsACE.insert(insert_javascript())});$("form").submit(function(){if($("#envo_editor").length){$("#envo_editor").val(htmlACE.getValue())}if($("#csseditor").length){$("#envo_css").val(cssACE.getValue())}if($("#javaeditor").length){$("#envo_javascript").val(jsACE.getValue())}});$("#envo_delete_all").click(function(){var a=this.checked;if(a){$("#button_delete").prop("disabled",false)}else{$("#button_delete").attr("disabled",true)}$(".highlight").each(function(){$(this).prop("checked",a)})});$(".highlight").change(function(){if(this.checked){$("#button_delete").prop("disabled",false)}else{if($(".highlight").filter(":checked").length<1){$("#envo_delete_all").prop("checked",false);$("#button_delete").attr("disabled",true)}}})});$(function(){$("#envo_name").keyup(function(){$("#envo_varname").val(envoSlug($("#envo_name").val()))})});$(function(){$(".iconpicker").iconpicker({arrowClass:"btn-info",icon:iconPicker.icon,iconset:"fontawesome",searchText:iconPicker.searchText,labelFooter:iconPicker.labelFooter,arrowPrevIconClass:"fa fa-chevron-left",arrowNextIconClass:"fa fa-chevron-right",selectedClass:"btn-success",unselectedClass:"",rows:5,cols:8});$(".iconpicker").on("change",function(a){$("#envo_img").val("fa "+a.icon)});$(".iconpicker1").iconpicker({arrowClass:"btn-info",icon:iconPicker.icon,iconset:"glyphicons",searchText:iconPicker.searchText,labelFooter:iconPicker.labelFooter,arrowPrevIconClass:"fa fa-chevron-left",arrowNextIconClass:"fa fa-chevron-right",selectedClass:"btn-success",unselectedClass:"",rows:5,cols:8});$(".iconpicker1").on("change",function(a){$("#envo_img").val("glyphicons "+a.icon)})});$(function(){$(".sortable").nestedSortable({maxLevels:2});$(".save-menu-plugin").on("click",function(){mlist=$(this).data("menu");serialized=$("#"+mlist).nestedSortable("serialize");var a=$.ajax({url:"index.php?p=wiki&amp;sp=categories",type:"POST",data:serialized,dataType:"json",cache:false});a.done(function(b){if(b.status==1){$("#"+mlist+" li").animate({backgroundColor:"#C9FFC9"},100).animate({backgroundColor:"#F9F9F9"},1000);$.notify({icon:"fa fa-check-square-o",message:b.html},{type:"success"})}else{$("#"+mlist+" li").animate({backgroundColor:"#FFC9C9"},100).animate({backgroundColor:"#F9F9F9"},1000);$.notify({icon:"fa fa-exclamation-triangle",message:b.html},{type:"danger"})}})})});$(function(){if($("#wiki_table").length>0){$("#wiki_table").dataTable({language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Czech.json"},order:[],columnDefs:[{targets:"no-sort",orderable:false}],pageLength:dataTablesSettings.pageLenght,dom:"<'row'<'col-sm-6'<'pull-left m-b-20'f>><'col-sm-6'<'float-right m-r-20 hidden-xs'B>>><'row'<'col-sm-12'tr>><'row'<'col-sm-7'i><'col-sm-5'p>>",initComplete:function(b,a){$(this).wrap('<div class="table-responsive"></div>')}})}});$(function(){$("#datepickerTime").datetimepicker({locale:envoWeb.envo_lang,format:"YYYY-MM-DD HH:mm:ss",icons:$.AdminEnvo.DateTimepicker.icons(),tooltips:$.AdminEnvo.DateTimepicker.tooltips(),showTodayButton:true,showClear:true,calendarWeeks:true,ignoreReadonly:true}).on("dp.change",function(b){var a=$(this).data("date");$('input[name="envo_created"]').val(a)})});$(function(){function a(){var b=$(this).closest("tr");b.remove()}$(".deleteRow1").bind("click",a);$("#addRowTab1").click(function(b){b.preventDefault();var c="";$.ajax({url:"/plugins/wiki/admin/ajax/wiki_literature.php",type:"POST",datatype:"json",beforeSend:function(){},success:function(g){var f=parseInt(g.data);var e=0;var d="1";$("#wiki_table_1 .rowid1").each(function(){$this=parseInt($(this).val());if($this>e){e=$this}});d=f+1;console.log("Wiki Table 1");console.log("----------------");console.log("Data:"+f);console.log("Max:"+e);console.log("NetMax:"+d);if(f==e){d=f+1}else{if(e==0){d=f+1}else{d=e+1}}c+='<tr class="row"><td class="col-sm-1 text-center">'+d+'<input type="hidden" name="envo_literature_0[]" class="rowid1" value="'+d+'"/></td><td class="col-sm-10"><input type="text" name="envo_literature_1[]" class="form-control"></td><td class="col-sm-1 text-center"><button type="button" class="btn btn-danger btn-xs deleteRow1"><i class="fa fa-trash-o"></i></button></td></tr>';if($("#wiki_table_1 .nodata").length){$("#wiki_table_1 .nodata").remove()}$("#wiki_table_1 tbody").prepend(c);$("#wiki_table_1 .deleteRow1").bind("click",a)},error:function(){}})});$(".deleteRow2").bind("click",a);$("#addRowTab2").click(function(b){b.preventDefault();var c="";$.ajax({url:"/plugins/wiki/admin/ajax/wiki_link.php",type:"POST",datatype:"json",beforeSend:function(){},success:function(g){var f=parseInt(g.data);var e=0;var d="1";$("#wiki_table_2 .rowid2").each(function(){$this=parseInt($(this).val());if($this>e){e=$this}});d=f+1;console.log("Wiki Table 2");console.log("----------------");console.log("Data:"+f);console.log("Max:"+e);console.log("NetMax:"+d);if(f==e){d=f+1}else{if(e==0){d=f+1}else{d=e+1}}c+='<tr class="row"><td class="col-sm-1 text-center">'+d+'<input type="hidden" name="envo_links_0[]" class="rowid2" value="'+d+'"/></td><td class="col-sm-10"><input type="text" name="envo_links_1[]" class="form-control"></td><td class="col-sm-1 text-center"><button type="button" class="btn btn-danger btn-xs deleteRow2"><i class="fa fa-trash-o"></i></button></td></tr>';if($("#wiki_table_2 .nodata").length){$("#wiki_table_2 .nodata").remove()}$("#wiki_table_2 tbody").prepend(c);$("#wiki_table_2 .deleteRow2").bind("click",a)},error:function(){}})})});